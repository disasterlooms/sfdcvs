<template>
    <div class="exampleHolder">
        <template if:true={loaded}>
            <lightning-card icon-name="custom:custom19" title='Upload Serial Numbers with Spiffs'>
                <b>Note: Column A must have Serial Numbers and Column to must have the Spiff Request Name 
                    <br/><br/>You can add serial numbers to an individual Spiff Request on the Spiff page and will not
                <br/>not need the Spiff Request in that Situation.
                <br/><br/></b>
                <div style="margin-left: 3%">
                    <lightning-file-upload accept={acceptedCSVFormats} 
                                           label="Upload Serial CSV Max 8,000 Records. Records over 100 could take several minutes" 
                                           multiple="multiple" 
                                           onuploadfinished={uploadFileHandler} 
                                           record-id={recordId}></lightning-file-upload>
                </div>
        
        
                <div if:true={error}>
                    {error}
                </div><br/>
        
                <div if:true={data}>
                    <lightning-button icon-name="utility:download" 
                                      label="Download as CSV" 
                                      title="Download CSV File"
                                      onclick={downloadCSVFile} variant="brand"></lightning-button>
                                      <br/>
                    <lightning-datatable columns={columnsSerials} 
                                         data={data} 
                                         hide-checkbox-column="true" 
                                         key-field="id"></lightning-datatable>
                </div>
        
            </lightning-card>
        </template>
        <template if:false={loaded}>
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
        </template>
    </div>
    
    
</template>