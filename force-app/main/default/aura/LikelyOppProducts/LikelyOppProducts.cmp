<aura:component implements="flexipage:availableForRecordHome,force:hasRecordId" access="global" controller="OppProducts">
    <aura:attribute name="recordId" type="String" access="public"/>
    <aura:attribute name="products" type="OpportunityLineItem[]" access="public"/>
    <aura:attribute name="delproducts" type="OpportunityLineItem[]" access="public"/>
    <aura:handler event="force:refreshView" action="{!c.getProducts}" />
    <aura:attribute name="status" type="String[]" />
    <aura:handler name="init" value="{!this}" action="{!c.getProducts}"/>
    <div class="exampleHolder">
        <lightning:spinner aura:id="mySpinner" class="slds-hide" variant="brand" size="large"/>
    </div>
 <div class="slds-border_top slds-border_bottom slds-border_right slds-border_left">
    
    <!--<lightning:spinner variant="brand" size="large" aura:id="mySpinner"/>-->
    <div class="slds-border_top  slds-border_right slds-border_left slds-border_bottom flexipageComponent OpportunityProductflexipageComponent" data-aura-class="flexipageComponent">
    	<article class="slds-card">
          <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate"><div class="slds-media__body">
                <h2>
                    <span class="slds-text-heading_small">Update or Remove Products</span>
                </h2>
              </div>
            </header>
            <div class="slds-no-flex">
              <lightning:button label="Delete&nbsp;Selected" variant="neutral" onclick="{!c.deleteprods}" value="{!recordid}"  /> 
              <lightning:button label="Update&nbsp;Products" variant="neutral" onclick="{!c.update}" value="{!recordid}"  />
            </div>
          </div>
        <table class="slds-table slds-table_bordered slds-table_cell-buffer">
              <thead>
                <tr class="slds-text-title_caps">
                  
                  <th scope="col">
                    <div class="slds-truncate" title="Product">Product</div>
                  </th>
                  <th scope="col">
                    <div class="slds-truncate" title="Quantity">Quantity</div>
                  </th>
                    <th scope="col">
                    <div class="slds-truncate" title="Likely">Likely</div>
                  </th>
                </tr>
              </thead>
              <tbody>
                <aura:iteration items="{!v.products}" var="p">
                  <tr>
                    <td>
                        <ui:outputText value="{!p.ProductCode}"/>
                    </td>
                    <td>
                      <ui:inputNumber value="{!p.Quantity}"/>
                    </td>
                    <td>
                       <ui:inputCheckbox value="{!p.Likely_Purchase__c}" label=""/>
                    </td>                
                      
                    
               	</tr>
               </aura:iteration>
              </tbody>
            </table>
            
        </article>
    	</div>
        </div>
</aura:component>